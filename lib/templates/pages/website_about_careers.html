---
layout: website
site:
  name: ChooseUX
  version: 0.1.0
tpl:
  desc: Careers page, powered by Lever
  title: Careers at Choose Energy
---
{{#withHash
    editorial_headline="Careers"
    editorial_bg="images/photography/Bay_Bridge_Night.jpg"
    variant_classes="v-short v-bg-dark"
}}
    {{> cmp_editorial_basic}}
{{/withHash}}

<div class="ce-editorial v-noheight v-bg-white">
    <div class="editorial-container careers">
        <h1>Open Positions</h1>
        <div id="jobs-container"></div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {

        var url = 'https://api.lever.co/v0/postings/chooseenergy?mode=json';

        function createJobs(_data) {
            console.log(_data);
            for(i = 0; i < _data.length; i++) {
                var posting = _data[i];
                var title = posting.text;
                var description = posting.description;
                var location = posting.categories.location;
                var commitment = posting.categories.commitment;
                var team = posting.categories.team;
                var link = posting.hostedUrl;
                var teamHeader = document.createElement('div');
                var jobPost = document.createElement('div');
                    jobPost.classList.add('job-listing');
                    jobPost.innerHTML = '<div class="job-info">' +
                            '<a href="' + link + '" class="job-title">' + title + '</a>' +
                            '<div class="job-tags"><span class="job-tag">' + team + '</span><span class="job-tag">' + location + '</span><span class="job-tag">' +commitment + '</span></div>' +
                            '</div>' +
                            '<a href="' + link + '" class="job-apply"><button type="button" class="btn btn-primary">Apply</button></a>'
                        ;
                var jobs = document.getElementById('jobs-container');
                    jobs.appendChild(jobPost);
            }
        }

        var request = new XMLHttpRequest();
        request.open('GET', url, true);
        request.onload = function() {
            if (request.status >= 200 && request.status < 400) {
                var data = JSON.parse(request.responseText);
                createJobs(data);
            } else {
                console.log('Error from Lever.');
                var jobsError = document.createElement('li');
                    jobsError.innerHTML = '<a href="https://jobs.lever.co/chooseenergy" class="jobs-error">See all job postings</a>';
                var jobs = document.getElementById('jobs-container');
                    jobs.appendChild(jobsError);
            }
        };
        request.onerror = function() {
            console.log('Connection Error.');
            var jobsError = document.createElement('li');
                jobsError.innerHTML = '<a href="https://jobs.lever.co/chooseenergy" class="jobs-error">See all job postings</a>';
            var jobs = document.getElementById('jobs-container');
                jobs.appendChild(jobsError);
        };
        request.send();

    });
</script>



